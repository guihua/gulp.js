/* eslint-disable */
var areas = [{
  "name": "浙江省",
  "subList": [
    {
      "name": "杭州市",
      "subList": [
        {
          "name": "拱墅区"
        },
        {
          "name": "西湖区"
        },
        {
          "name": "上城区"
        },
        {
          "name": "下城区"
        },
        {
          "name": "江干区"
        },
        {
          "name": "滨江区"
        },
        {
          "name": "余杭区"
        },
        {
          "name": "萧山区"
        },
        {
          "name": "建德市"
        },
        {
          "name": "富阳市"
        },
        {
          "name": "临安市"
        },
        {
          "name": "桐庐县"
        },
        {
          "name": "淳安县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "宁波市",
      "subList": [
        {
          "name": "海曙区"
        },
        {
          "name": "江东区"
        },
        {
          "name": "江北区"
        },
        {
          "name": "镇海区"
        },
        {
          "name": "北仑区"
        },
        {
          "name": "鄞州区"
        },
        {
          "name": "余姚市"
        },
        {
          "name": "慈溪市"
        },
        {
          "name": "奉化市"
        },
        {
          "name": "宁海县"
        },
        {
          "name": "象山县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "温州市",
      "subList": [
        {
          "name": "鹿城区"
        },
        {
          "name": "龙湾区"
        },
        {
          "name": "瓯海区"
        },
        {
          "name": "瑞安市"
        },
        {
          "name": "乐清市"
        },
        {
          "name": "永嘉县"
        },
        {
          "name": "洞头县"
        },
        {
          "name": "平阳县"
        },
        {
          "name": "苍南县"
        },
        {
          "name": "文成县"
        },
        {
          "name": "泰顺县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "嘉兴市",
      "subList": [
        {
          "name": "秀城区"
        },
        {
          "name": "秀洲区"
        },
        {
          "name": "海宁市"
        },
        {
          "name": "平湖市"
        },
        {
          "name": "桐乡市"
        },
        {
          "name": "嘉善县"
        },
        {
          "name": "海盐县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "湖州市",
      "subList": [
        {
          "name": "吴兴区"
        },
        {
          "name": "南浔区"
        },
        {
          "name": "长兴县"
        },
        {
          "name": "德清县"
        },
        {
          "name": "安吉县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "绍兴市",
      "subList": [
        {
          "name": "越城区"
        },
        {
          "name": "诸暨市"
        },
        {
          "name": "上虞市"
        },
        {
          "name": "嵊州市"
        },
        {
          "name": "绍兴县"
        },
        {
          "name": "新昌县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "金华市",
      "subList": [
        {
          "name": "婺城区"
        },
        {
          "name": "金东区"
        },
        {
          "name": "兰溪市"
        },
        {
          "name": "义乌市"
        },
        {
          "name": "东阳市"
        },
        {
          "name": "永康市"
        },
        {
          "name": "武义县"
        },
        {
          "name": "浦江县"
        },
        {
          "name": "磐安县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "衢州市",
      "subList": [
        {
          "name": "柯城区"
        },
        {
          "name": "衢江区"
        },
        {
          "name": "江山市"
        },
        {
          "name": "龙游县"
        },
        {
          "name": "常山县"
        },
        {
          "name": "开化县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "舟山市",
      "subList": [
        {
          "name": "定海区"
        },
        {
          "name": "普陀区"
        },
        {
          "name": "岱山县"
        },
        {
          "name": "嵊泗县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "台州市",
      "subList": [
        {
          "name": "椒江区"
        },
        {
          "name": "黄岩区"
        },
        {
          "name": "路桥区"
        },
        {
          "name": "临海市"
        },
        {
          "name": "温岭市"
        },
        {
          "name": "玉环县"
        },
        {
          "name": "天台县"
        },
        {
          "name": "仙居县"
        },
        {
          "name": "三门县"
        },
        {
          "name": "其他"
        }
      ]
    },
    {
      "name": "丽水市",
      "subList": [
        {
          "name": "莲都区"
        },
        {
          "name": "龙泉市"
        },
        {
          "name": "缙云县"
        },
        {
          "name": "青田县"
        },
        {
          "name": "云和县"
        },
        {
          "name": "遂昌县"
        },
        {
          "name": "松阳县"
        },
        {
          "name": "庆元县"
        },
        {
          "name": "景宁畲族自治县"
        },
        {
          "name": "其他"
        }
      ]
    }
  ]
}];

(function () {
  var cityItem = $('#city');
  var areaItem = $('#region');
  var cities = areas[0].subList;

  // 初始化城市
  initCity(cities);

  function initCity(cities) {
    var cityOptions = "<option>请选择城市</option>";

    for (var i = 0; i < cities.length; i ++) {
      cityOptions += '<option value="' + cities[i].name + '">' + cities[i].name + '</option>';
    }

    cityItem.empty().append(cityOptions);
  }

  // 切换城市
  cityItem.on('change', initAreas);

  function initAreas(e) {
    var city = e.target.value;
    var areas;

    for (var i = 0; i < cities.length; i ++) {
      if (cities[i].name === city) {
        areas = cities[i].subList;
      }
    }

    var areaOptions = "<option>请选择区域</option>";

    for (var i = 0; i < areas.length; i ++) {
      areaOptions += '<option value="' + areas[i].name + '">' + areas[i].name + '</option>';
    }

    areaItem.empty().append(areaOptions);
  }

  var applyCard = function() {
    $.ajax({
      type: "post",
      url: "http://api.test.bechangedt.com:9090/api/erhcmember/apply",
      data: {
        // name,
        // idCardType: '01',
        // idCardValue: cardNo,
        // tel,
        // applyMode: '1', // 申请方式 固定1，APP在线申请
        // qcCodeType: '0', // 二维码类型 1:动态二维码， 0：静态二维码
      },
      dataType: "json",
      success: function (res) {
        console.log(res);
        if (res.data.code === 1) {
          //
        } else if (code === 2) {
          // 无卡，跳转申领页
          location.href = './apply.html';
        } else {
          dd.device.notification.toast({
            message: res.data.msg,
            duration: 2,
          });
        }
      }
    });
  }

  // applyCard();
})();
